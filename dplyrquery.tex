# defining the function: sum numeric variables, take the first value if categorical.
> mt1 <- function(x) {
+   if(is.numeric(x)) { # if x is numeric
+     return(sum(x)) # compute the sum
+   } else { # otherwise give the first value
+     return(head(x,n=1))
+   }
+ }

#the data looks like this
> head(Data1)
        yrHHid year.f  primary euroweight ilow1859              joblesssilc
1 200480031037   2004 80031037   236.6421        1 Not in jobless HH (VLWI)
2 200480031037   2004 80031037   236.6421        1 Not in jobless HH (VLWI)
3 200480382066   2004 80382066   240.3224        1 Not in jobless HH (VLWI)
4 200480382066   2004 80382066   240.3224        1 Not in jobless HH (VLWI)
5 200480382066   2004 80382066   240.3224        0 Not in jobless HH (VLWI)
6 200480382066   2004 80382066   240.3224        0 Not in jobless HH (VLWI)
  qnhsjobless
1           0
2           0
3           0
4           0
5           0
6           0
> 
> test <- mt1 (Data1) 
> test
        yrHHid year.f  primary euroweight ilow1859              joblesssilc qnhsjobless
1 200480031037   2004 80031037   236.6421        1 Not in jobless HH (VLWI)           0
> 
> # aggregate data frame Data1 by year and primary, returning sums for numeric and first value factors
> # for numeric variables
> attach(Data1)
> aggdata <-aggregate(Data1, by=list(yrHHid),  FUN=mt1)
Error: cannot allocate vector of size 16.5 Gb
